# config file for Average Headways utility

# -------------------------------
# ---- USER INPUT PARAMETERS ----
# -------------------------------

# GTFS File name (at this time only one feed may be provided)
#   - Name should include extension (i.e. "good_feed.zip")
#   - IMPORTANT: This feed needs to be in the "data/" directory
#   - Example: 
#
#     gtfs_filename: good_feed.zip
#

gtfs_filename:

# Date for which average headways will be calculated
#   - Format: 'YYYYMMDD'
#   - Value should be quoted (single or double)
#   - Example:
#
#     date: '20091102'
#

date:

# Time range to average headways over (at this time only one range may be provided)
#   - Format: 'HH:MM:SS'
#   - Value should be quoted (single or double)
#   - Example:
# 
#     time_ranges:
#       - start: '06:00:00'
#         end: '09:00:00'
#

time_ranges:
  - start:
    end:


# -----------------------------------------------
# ---- UTILITY SETTINGS (DO NOT EDIT BELOW) -----
# -----------------------------------------------

# Complete list of files (as csvs) listed by http://gtfs.org/reference/static 2020-04-28
# It's ok for files listed here not to exist in the feed, the goal is 
# to include all files that may be present and relevant to the analysis tool 
input_table_list:
  - tablename: routes
    filename: routes.csv
    index_col: route_id
  - tablename: agency
    filename: agency.csv
    index_col: agency_id
  - tablename: stops
    filename: stops.csv
    index_col: stop_id
  - tablename: routes
    filename: routes.csv
    index_col: route_id
  - tablename: trips
    filename: trips.csv
    index_col: trip_id
  - tablename: stop_times
    filename: stop_times.csv
  - tablename: calendar
    filename: calendar.csv
    index_col: service_id
  - tablename: calendar_dates
    filename: calendar_dates.csv
  - tablename: fare_attributes
    filename: fare_attributes.csv
    index_col: fare_id
  - tablename: fare_rules
    filename: fare_rules.csv
  - tablename: shapes
    filename: shapes.csv
    index_col: shape_id
  - tablename: frequencies
    filename: frequencies.csv
  - tablename: transfers
    filename: transfers.csv
  - tablename: pathways
    filename: pathways.csv
  - tablename: levels
    filename: levels.csv
  - tablename: translations
    filename: translations.csv
  - tablename: feed_info
    filename: feed_info.csv
  - tablename: attributions
    filename: attributions.csv

# Model pipeline
models:
  - initialize_gtfs_tables
  - filter_trips_by_date
  - filter_single_trips_by_time
  - filter_repeating_trips_by_time
  - prune_unused_trips_everywhere
  - calculate_average_headways
  - cleanup_data_dir
